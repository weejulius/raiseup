{
  :charset            "UTF-8"
  :short-date-format  "yyyy-MM-dd"
  :long-date-format   "yyyy-MM-dd HH:mm:ss"

  ;; separator for string, like 1,2,3
  :separator          ","
  :template-extension "httl"

  :components         {
                        :snapshot-db       {
                                             :component      cqrs.storage/->LeveldbStore
                                             :path           "/tmp/snapshot-db"
                                             :leveldb-option {}
                                             }

                        :recoverable-id-db {
                                             :component      cqrs.storage/->LeveldbStore
                                             :path           "/tmp/ids-db"
                                             :leveldb-option {}
                                             }

                        :events-db         {
                                             :component      cqrs.storage/->LeveldbStore
                                             :path           "/tmp/events-db"
                                             :leveldb-option {}
                                             }

                        :recoverable-ids   {
                                             :component                     cqrs.storage/->RecoverableLongId
                                             :storage                       :recoverable-id-db
                                             :recoverable-id-flush-interval 100000
                                             }

                        :bus               {
                                             :component cqrs.vertx/->VertxBus
                                             :handlers  [notes.handler/note-event-handlers notes.handler/note-command-handlers]
                                             }

                        :readmodel         {
                                             :component      cqrs.elastic-rm/->ElasticReadModel
                                             :app            "raiseup"
                                             :start-shell    ["nohup" "elastic"]
                                             :shutdown-shell ["sdelastic"]
                                             :host           "127.0.0.1"
                                             :port           9300
                                             :cluster-name   "elasticsearch"
                                             ;  :settings {:index {"number_of_replicas" 1}}
                                             :mappings
                                                             {"note" {:properties
                                                                       {:ar-id   {:type "long" :store "yes" :index "not_analyzed"}
                                                                        :ar      {:type "string" :store "yes" :index "not_analyzed"}
                                                                        :author  {:type "string" :store "yes" :index "not_analyzed"}
                                                                        :title   {:type "string" :analyzer "standard" :store "yes"}
                                                                        :content {:type "string" :analyzer "standard" :store "yes"}
                                                                        :ctime   {:type "date" :store "yes" :index "not_analyzed"}}}
                                                              "user" {:properties
                                                                       {:ar-id   {:type "long" :store "yes" :index "not_analyzed"}
                                                                        :ar      {:type "string" :store "yes" :index "not_analyzed"}
                                                                        :author  {:type "string" :store "yes" :index "not_analyzed"}
                                                                        :title   {:type "string" :analyzer "standard" :store "yes"}
                                                                        :content {:type "string" :analyzer "standard" :store "yes"}
                                                                        :ctime   {:type "date" :store "yes" :index
                                                                                        "not_analyzed"}}}
                                                              }
                                             }

                        :http-server       {:component httpserver/->HttpKitServer
                                            :host      "localhost"
                                            :port      8080
                                            :routes    web/app-routes
                                            }

                        }

  }
